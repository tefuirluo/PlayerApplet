<!--pages/music-play/music-play.wxml-->
<wxs src="/utils/format.wxs" module="fmt"/>

<!-- 1. 背景展示 -->
<image class="bg-image" src="{{currentSongs.al.picUrl}}" mode="aspectFill"/>
<view class="bg-cover"></view>

<!-- 2. 自定义导航栏 -->
<nav-bar>
	<view class="tabs" slot="center">
		<block wx:for="{{pageTitles}}" wx:key="*this">
			<view 
			class="item {{ currentPage === index ? 'active' : '' }}"
			bindtap="onNavTabItemTap"
			data-index="{{index}}"
		>
		{{item}}
		</view>
		<view class="divider" wx:if="{{ index !== pageTitles.length - 1 }}">|</view>
		</block>
	</view>
</nav-bar>
<!-- 3. 内容页 -->
<swiper 
	bindchange="onSwiperChange"
	style="height: {{contentHeight}}px;"
	current="{{currentPage}}"
>
	<swiper-item class="music">
		<view class="album">
			<image class="image" src="{{currentSongs.al.picUrl}}" mode="widthFix"/>
		</view>
		<view class="info">
			<view class="name">
				{{currentSongs.name}}
			</view>
			<view class="singer">{{ currentSongs.ar[0].name }}</view>
		</view>
		<view class="lyric">
			歌词
		</view>
		<view class="proress">
			<slider
				class="slider" 
				block-size="12" 
				value="{{sliderValue}}"
				bindchange="onSliderChange"
				bindchanging="onSliderChanging"
			/>
			<view class="time">
				<view class="current">{{fmt.formatTime(currentTime)}}</view>
				<view class="duration">{{fmt.formatTime(durationTime)}}</view>
			</view>
		</view>
		<view class="controls">
			<image class="btn mode" src="/assests/player/play_order.png" mode=""/>
			<image class="btn prev" src="/assests/player/play_prev.png" mode=""/>
			<image class="btn play" src="/assests/player/play_resume.png" mode=""/>
			<image class="btn next" src="/assests/player/play_next.png" mode=""/>
			<image class="btn list" src="/assests/player/play_music.png" mode=""/>
		</view>
	</swiper-item>
	<swiper-item>歌词</swiper-item>
	<swiper-item>推荐</swiper-item>
</swiper>
